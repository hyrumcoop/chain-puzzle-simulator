{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/OperationIcon.vue?4b91","webpack:///./src/components/KeyIcon.vue?cf79","webpack:///./src/components/PlaybackBar.vue?7863","webpack:///./src/components/ViewportControls.vue?c1c4","webpack:///./src/components/Navbar.vue?4f81","webpack:///./src/App.vue","webpack:///./src/components/Navbar.vue","webpack:///./src/components/InfoModal.vue","webpack:///./src/components/FaqQuestion.vue","webpack:///./src/components/FaqQuestion.vue?c416","webpack:///./src/components/InfoModal.vue?7b84","webpack:///./src/components/Navbar.vue?59c0","webpack:///./src/components/Viewport.vue","webpack:///./src/constants/operations.js","webpack:///./src/constants/index.js","webpack:///./src/components/PuzzleCodeBox.vue","webpack:///./src/components/PuzzleCodeBox.vue?e657","webpack:///./src/components/ViewportControls.vue","webpack:///./src/components/ViewportControls.vue?0b46","webpack:///./src/components/PlaybackBar.vue","webpack:///./src/components/OperationIcon.vue","webpack:///./src/components/OperationIcon.vue?00f8","webpack:///./src/components/PlaybackBar.vue?d3a6","webpack:///./src/components/ControlsGuide.vue","webpack:///./src/components/KeyIcon.vue","webpack:///./src/components/KeyIcon.vue?f7fd","webpack:///./src/components/ControlsGuide.vue?fb7d","webpack:///./src/composables/useRenderer.js","webpack:///./src/composables/useCameraControls.js","webpack:///./src/composables/useLighting.js","webpack:///./src/composables/useChain.js","webpack:///./src/composables/useMarbles.js","webpack:///./src/helpers/interpolation.js","webpack:///./src/composables/useAnimation.js","webpack:///./src/composables/useKeyboard.js","webpack:///./src/composables/usePlayback.js","webpack:///./src/modules/ChainPuzzle.js","webpack:///./src/composables/useMarbleInputter.js","webpack:///./src/modules/OperationSequence.js","webpack:///./src/modules/Heuristic.js","webpack:///./src/modules/PuzzleSolver.js","webpack:///./src/components/Viewport.vue?9c7b","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/components/PuzzleCodeBox.vue?97c0","webpack:///./src/components/FaqQuestion.vue?53b8","webpack:///./src/App.vue?4b6a","webpack:///./src/components/ControlsGuide.vue?3f4f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","href","target","openInfo","ref","tabindex","type","data-bs-dismiss","aria-label","question","show","selectedQuestion","selectQuestion","$emit","props","String","Boolean","collapse","mounted","this","$refs","answerCollapse","toggle","watch","newShow","hide","render","__scopeId","components","FaqQuestion","modal","$el","methods","questionNo","InfoModal","infoModal","code","puzzleCode","solved","isSolved","operations","playbackQueue","currentIndex","playbackQueueIndex","controlsType","showPlaybackControls","playing","speed","scramble","reset","play","pause","stop","next","prev","setSpeed","solving","isSolving","bestSolution","findSolutions","chooseSolution","loadPuzzleCode","$event","inputting","isInputting","inputSymmetric","beginMarbleInput","cancelMarbleInput","updateInputSymmetric","Operations","ROTATE","INNER_SHIFT","OUTER_SHIFT","INVERSE_ROTATE","INVERSE_INNER_SHIFT","INVERSE_OUTER_SHIFT","InverseOperations","OperationMappings","Symmetric","Asymmetric","MARBLE_COLORS","SYMMETRIC_MARBLE_POSITIONS","THREE","ASYMMETRIC_MARBLE_POSITIONS","PlaybackMode","FREE","DEMONSTRATION","style","role","aria-live","aria-atomic","copy","toast","setup","toastElement","delay","navigator","clipboard","writeText","id","for","updateSpeed","sliderValue","solveReady","disabled","autocomplete","checked","placeholder","aria-describedby","MIN_SPEED","MAX_SPEED","SOLUTION_WAIT","Array","Number","event","val","parseInt","computed","newSolving","oldSolving","animate","height","margin","op","selected","opClass","opText","OperationClass","OperationText","OperationTooltip","title","X_PADDING","OPERATION_ICON_WIDTH","ICON_SPACING","OperationIcon","calculateMargin","playbackBar","operationsContainer","barWidth","offsetWidth","operationsWidth","currentIndexPos","showPuzzleControls","char","tooltip","showInputMarbleControls","keyColors","color","icon","colorStyle","displayChar","luminance","backgroundColor","borderColor","darken","css","KeyIcon","map","col","FOV","useRenderer","viewport","scene","shallowRef","camera","renderer","animations","initRenderer","width","offsetHeight","antialias","setSize","setClearColor","appendChild","domElement","ResizeObserver","onResize","observe","onAnimate","func","requestAnimationFrame","forEach","aspect","updateProjectionMatrix","onMounted","MAX_ZOOM_DISTANCE","MIN_ZOOM_DISTANCE","useCameraControls","controls","initCameraControls","position","x","z","y","lookAt","OrbitControls","maxDistance","minDistance","update","useLighting","ambientLight","keyLight","fillLight","rimLight","set","initLighting","add","light","CHAIN_LEFT_COLOR","CHAIN_RIGHT_COLOR","useChain","puzzle","loader","GLTFLoader","materialLeft","materialRight","chainLeft","chainRight","chainSymmetric","symmetric","chainTransparent","loadListeners","onChainLoad","initChain","loadAsync","loadedData","chainGeometry","children","geometry","rotation","Math","PI","updateChainOrientation","setChainTransparent","transparent","mat","opacity","toggleChainTransparent","onReset","MARKER_MARBLE_COLOR","MARKER_MARBLE_OPACITY","useMarbles","materials","roughness","marbles","markerMarble","markerMaterial","setMarbleOrientation","order","positions","pos","marble","remove","clearMarbles","setMarkerVisibility","isVisible","initMarbles","SYMMETRIC_ROTATE_MOVERS","ASYMMETRIC_ROTATE_MOVERS","lerp","start","end","clone","sub","multiplyScalar","lerpEuler","circleInterpolate","cw","radius","max","abs","phi","theta","sin","cos","OperationInterpolations","createRotateInterpolations","createShiftInterpolations","ChainInterpolations","toPositions","interpolations","mappings","fromPositions","mapping","movers","currier","idx","find","ANIMATION_DURATION","useAnimation","chain","curMappings","transform","rotate","innerShift","outerShift","inverseRotate","inverseInnerShift","inverseOuterShift","mapMarbles","temp","updateMarblePositions","animationPromise","animateFunc","cancelAnimation","cancel","animateOperation","duration","clock","shouldCancel","chainInterpolation","animateMarbles","Promise","res","elapsedTime","getElapsedTime","min","interpolation","KeyOperations","KeyMarbleInputs","useKeyboard","playback","marbleInputter","addEventListener","inputMarble","toLowerCase","pushOperation","togglePlay","DEFAULT_SPEED","usePlayback","animation","playbackMode","setSequence","sequence","recursivePlay","internalNext","promise","newSpeed","setPlaybackSequence","DEFAULT_MARBLES","ENCODE_STR","DEFAULT_SCRAMBLE","ChainPuzzle","listeners","solve","isSubchainSolved","consecutive","arraysEqual","a","b","encode","str","decode","split","indexOf","floor","equals","normalize","index","cur","iterations","lastOperation","operation","random","operationMappings","checkSolved","fireEvent","newPuzzle","params","onTransform","onSolve","useMarbleInputter","inputMarbles","oldPuzzleCode","setMarkerIndex","SORT_ORDER","OperationSequence","reorder","newSequence","sortFunc","concat","sort","countContiguousGroups","groups","Heuristic","ContiguousGroups","Node","parent","priority","depth","getPathOperations","node","unshift","pruneQueueDepth","queue","maxDepth","newQueue","Heap","toArray","GeneratorDefaultOptions","initialDepth","PuzzleSolver","root","seen","size","pop","newPosition","newNode","generateSolutions","onSolution","options","opts","assign","shouldStop","solveLoop","processQueue","empty","setImmediate","solution","ViewportControls","PuzzleCodeBox","PlaybackBar","ControlsGuide","stopSolvingFunc","cameraControls","lighting","Navbar","Viewport","createApp","App","mount"],"mappings":"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","file":"js/app.030149bd.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/chain-puzzle-simulator/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./OperationIcon.vue?vue&type=style&index=0&id=9d0c702c&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./KeyIcon.vue?vue&type=style&index=0&id=51f9887a&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PlaybackBar.vue?vue&type=style&index=0&id=0e82b333&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ViewportControls.vue?vue&type=style&index=0&id=dfdf713a&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Navbar.vue?vue&type=style&index=0&id=273d1a4b&scoped=true&lang=css\"","<template>\n  <div class='d-flex flex-column h-100'>\n    <Navbar />\n    <Viewport class='flex-grow-1' />\n  </div>\n  \n</template>\n\n<script>\nimport Navbar from './components/Navbar';\nimport Viewport from './components/Viewport.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    Navbar,\n    Viewport\n  }\n}\n</script>\n\n<style>\n\nhtml, body, #app {\n  width: 100%;\n  height: 100%;\n\n  margin: 0;\n}\n\n</style>\n","<template>\n  <div class='bar d-flex align-items-center px-3'>\n    <h2 class='title m-0 flex-grow-1'>Chain Puzzle</h2>\n\n    <div class='icon-buttons fs-3'>\n      <a href='https://github.com/hyrumcoop/chain-puzzle-simulator' target='_blank' class='text-reset mx-2'><i class='bi-github'></i></a>\n      <a href='#' class='text-reset' @click='openInfo()'><i class='bi-question-circle-fill'></i></a>\n    </div>\n  </div>\n\n  <info-modal ref='infoModal' />\n</template>\n\n<script>\nimport InfoModal from './InfoModal';\n\nexport default {\n  name: 'Navbar',\n  components: {\n    InfoModal\n  },\n  methods: {\n    openInfo() {\n      this.$refs.infoModal.toggle()\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n\n.bar {\n  height: 60px;\n  border-bottom: 1px solid #eee;\n}\n\n</style>","<template>\n  <div class='modal fade' tabindex='-1'>\n    <div class='modal-dialog modal-lg'>\n      <div class='modal-content'>\n        <div class='modal-header'>\n          <h5 class='modal-title'>Info</h5>\n          <button type='button' class='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>\n        </div>\n        <div class='modal-body'>\n          <faq-question\n            question='What is this?'\n            :show='selectedQuestion == 0'\n            @select='selectQuestion(0)'\n          >\n            <p>\n              The <a href='https://www.myminifactory.com/users/makeanything' target='_blank'>Chain Puzzle</a>\n              is a puzzle designed by <a href='https://www.devinmontes.com/' target='_blank'>Devin Montes</a>\n              and can be purchased at his <a href='https://www.myminifactory.com/users/makeanything' target='_blank'>\n              store</a> or can be 3D printed using the models on\n              <a href='https://www.myminifactory.com/object/3d-print-the-chain-puzzle-razor-118798' target='_blank'>\n              MyMiniFactory</a>. The puzzle consists of two inter-looping tracks which hold 30 marbles that mix up\n              when you twist the halves into alternating positions. In a symmetric position, there is\n              a large 18 marble track looping around a smaller 12 marble track, while in the\n              asymmetric position there are two 15 marble tracks locked together. Rotate the two halves\n              of the puzzle and shift the marbles along their tracks until all like colors touch.\n            </p>\n\n            <p>This simulator was developed independently by <a href='https://github.com/hyrumcoop' target='_blank'>\n            Hyrum Cooper</a> who can be reached at <a href='mailto:hyrumcoop@gmail.com'>hyrumcoop@gmail.com.</a></p>\n          </faq-question>\n\n          <faq-question\n            question='How does the simulator work?'\n            :show='selectedQuestion == 1'\n            @select='selectQuestion(1)'\n          >\n            <p>\n              The simulator uses a heuristic-guided graph traversal algorithm known as the\n              <a href='https://en.wikipedia.org/wiki/A*_search_algorithm' target='_blank'>A* search\n              algorithm</a> to solve the puzzle. It begins at a node representing the starting puzzle\n              state and expands it by creating a new node for each puzzle state that is one\n              transformation away from the parent node. The algorithm then uses a heuristic to judge\n              the favorability of each new puzzle state, chooses the most favorable node from the graph,\n              and continues the process of expanding until it reaches a solved state.\n            </p>\n\n            <p>\n              The heuristic used by the simulator assesses the number of contiguous groups of color in\n              the puzzle. A puzzle state with a lower score is a more favorable state than one with a\n              higher score. For example, when the puzzle is solved, there are 6 groups of contiguous\n              color (1 for each color), the highest score the heuristic can give. When each marble in the\n              chain is different from the ones next to it (seemingly very scrambled), there are 30\n              contiguous groups, one for each marble. The intuition driving the heuristic is that the\n              puzzle seems to be closer to being solved when the number of contiguous groups are low,\n              and that it seems to be far away from being solved when this number is large. A brief\n              statistical analysis has shown that this correlation does exist, but its not perfect and\n              the heuristic will often overestimate or underestimate.\n            </p>\n\n            <p>\n              Because the heuristic often overestimates the favorability of certain chain states, the\n              algorithm rarely finds the most efficient solution on its first pass. To improve the\n              efficiency of the solutions generated, the algorithm is capped at a certain depth (a depth\n              of 100 nodes was picked arbitrarily for the first pass) and run iteratively. When a solution\n              is found, the algorithm repeats, this time with a depth capped lower than the solution below\n              it. While this approach works, there is no way to guarantee that the algorithm has reached\n              the best solution. A better solution would be to design a consistent heuristic, a heuristic\n              never overestimates the favorability of a position. Achieving this would likely require a\n              deeper mathematical analysis of the chain puzzle.\n            </p>\n          </faq-question>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Modal } from 'bootstrap';\nimport FaqQuestion from './FaqQuestion';\n\nexport default {\n  name: 'InfoModal',\n  components: {\n    FaqQuestion\n  },\n  data() {\n    return {\n      modal: null,\n      selectedQuestion: -1,\n    }\n  },\n  mounted() {\n    this.modal = new Modal(this.$el);\n  },\n  methods: {\n    toggle() {\n      this.modal.toggle()\n    },\n    selectQuestion(questionNo) {\n      if (questionNo == this.selectedQuestion) {\n        this.selectedQuestion = -1;\n      } else {\n        this.selectedQuestion = questionNo;\n      }\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n\n</style>","<template>\n  <div class='question-container'>\n    <a href='#' class='text-reset text-decoration-none' @click='$emit(\"select\")'>\n      <div class='question'>\n        <span class='flex-grow-1'>{{ question }}</span>\n\n        <i class='bi-caret-down-fill' v-if='!show' />\n        <i class='bi-caret-up-fill' v-else />\n      </div>\n    </a>\n\n    <div class='collapse' ref='answerCollapse'>\n      <div class='answer'>\n        <slot></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Collapse } from 'bootstrap';\n\nexport default {\n  name: 'FaqQuestion',\n  props: {\n    question: String,\n    show: Boolean\n  },\n  data() {\n    return {\n      collapse: null\n    }\n  },\n  mounted() {\n    this.collapse = new Collapse(this.$refs.answerCollapse, {\n      toggle: this.show\n    });\n  },\n  watch: {\n    show(newShow) {\n      if (!this.collapse) return;\n\n      if (newShow) {\n        this.collapse.show();\n      } else {\n        this.collapse.hide();\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.question-container {\n  margin-bottom: 8px;\n}\n\n.question {\n  display: flex;\n  padding: 16px;\n\n  color: #424242;\n  font-size: 1rem;\n  font-weight: 700;\n\n  background-color: #f8f8f8;\n  border-radius: 4px;\n}\n\n.answer {\n  padding: 8px 16px;\n}\n\n</style>","import { render } from \"./FaqQuestion.vue?vue&type=template&id=204b23d2&scoped=true\"\nimport script from \"./FaqQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./FaqQuestion.vue?vue&type=script&lang=js\"\n\nimport \"./FaqQuestion.vue?vue&type=style&index=0&id=204b23d2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-204b23d2\"\n\nexport default script","import { render } from \"./InfoModal.vue?vue&type=template&id=70c807ba&scoped=true\"\nimport script from \"./InfoModal.vue?vue&type=script&lang=js\"\nexport * from \"./InfoModal.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-70c807ba\"\n\nexport default script","import { render } from \"./Navbar.vue?vue&type=template&id=273d1a4b&scoped=true\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=273d1a4b&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-273d1a4b\"\n\nexport default script","<template>\n  <div class='d-flex flex-column'>\n    <div ref='viewport' class='flex-grow-1 position-relative'>\n      <div class='overlay position-absolute top-0 bottom-0 w-100 h-100'>\n        <puzzle-code-box :code='puzzleCode' :solved='isSolved' />\n\n        <playback-bar\n          :operations='playbackQueue'\n          :currentIndex='playbackQueueIndex - 1'\n        />\n\n        <controls-guide\n          :controlsType='controlsType'\n        />\n      </div>\n    </div>\n    \n    <viewport-controls\n      :showPlaybackControls='showPlaybackControls'\n      :playing='playing'\n      :operations='playbackQueue'\n      :currentIndex='playbackQueueIndex'\n      :speed='speed'\n\n      @scramble='scramble'\n      @reset='reset'\n\n      @play='play()'\n      @pause='pause()'\n      @cancel='stop()'\n      @next='next()'\n      @prev='prev()'\n\n      @updateSpeed='setSpeed'\n\n      :solving='isSolving'\n      :bestSolution='bestSolution'\n      @find-solutions='findSolutions()'\n      @choose-solution='chooseSolution()'\n\n      @load-puzzle-code='loadPuzzleCode($event)'\n\n      :inputting='isInputting'\n      :inputSymmetric='inputSymmetric'\n      @begin-marble-input='beginMarbleInput()'\n      @cancel-marble-input='cancelMarbleInput()'\n      @update-input-symmetric='updateInputSymmetric($event)'\n    />\n  </div>\n</template>\n\n<script>\nimport { ref, shallowRef } from 'vue';\n\nimport { PlaybackMode } from '@/constants';\n\nimport PuzzleCodeBox from './PuzzleCodeBox';\nimport ViewportControls from './ViewportControls';\nimport PlaybackBar from './PlaybackBar';\nimport ControlsGuide from './ControlsGuide';\n\nimport useRenderer from '@/composables/useRenderer';\nimport useCameraControls from '@/composables/useCameraControls';\nimport useLighting from '@/composables/useLighting';\nimport useChain from '@/composables/useChain';\nimport useMarbles from '@/composables/useMarbles';\nimport useAnimation from '@/composables/useAnimation';\nimport useKeyboard from '@/composables/useKeyboard';\nimport usePlayback from '@/composables/usePlayback';\nimport useMarbleInputter from '@/composables/useMarbleInputter';\n\nimport ChainPuzzle from '@/modules/ChainPuzzle';\nimport OperationSequence from '@/modules/OperationSequence';\n\nimport PuzzleSolver from '@/modules/PuzzleSolver';\n\nexport default {\n  components: {\n    ViewportControls,\n    PuzzleCodeBox,\n    PlaybackBar,\n    ControlsGuide\n  },\n  setup() {\n    const puzzle = shallowRef(new ChainPuzzle());\n    const puzzleCode = ref(puzzle.value.encode());\n    const isSolved = ref(puzzle.value.isSolved());\n\n    const isSolving = ref(false);\n    const bestSolution = ref(null);\n    const stopSolvingFunc = shallowRef(null);\n\n    const loadPuzzleCode = code => puzzle.value.loadPuzzleCode(code);\n\n    puzzle.value.onTransform(() => {\n      puzzleCode.value = puzzle.value.encode();\n      isSolved.value = puzzle.value.isSolved();\n    });\n\n    puzzle.value.onReset(() => {\n      marbleInputter.isInputting.value = false;\n      marbles.setMarkerVisibility(false);\n\n      puzzleCode.value = puzzle.value.encode();\n      isSolved.value = puzzle.value.isSolved();\n    });\n\n    const renderer = useRenderer();\n    const cameraControls = useCameraControls(renderer.camera, renderer.viewport, renderer.onAnimate);\n    const lighting = useLighting(renderer.scene);\n    const chain = useChain(renderer.scene, puzzle);\n    const marbles = useMarbles(renderer.scene, puzzle);\n    const animation = useAnimation(puzzle, chain, marbles.marbles, renderer);\n    const playback = usePlayback(puzzle, animation);\n    const marbleInputter = useMarbleInputter(marbles, chain, puzzle, loadPuzzleCode);\n\n    useKeyboard(playback, marbleInputter, chain);\n    \n    return {\n      puzzle,\n      puzzleCode,\n      isSolved,\n      isSolving,\n      bestSolution,\n      stopSolvingFunc,\n      loadPuzzleCode,\n\n      ...renderer,\n      ...cameraControls,\n      ...lighting,\n      ...chain,\n      ...marbles,\n      ...animation,\n      ...playback,\n      ...marbleInputter\n    };\n  },\n  mounted() {\n    this.animate();\n  },\n  methods: {\n    async scramble() {\n      await this.setPlaybackSequence(OperationSequence.scramble());\n      this.play();\n    },\n    reset() {\n      this.puzzle.reset()\n    },\n    async findSolutions() {\n      this.isSolving = true;\n\n      this.stopSolvingFunc = PuzzleSolver.generateSolutions(this.puzzle, solution => {\n        this.bestSolution = solution;\n      });\n    },\n    async chooseSolution() {\n      this.bestSolution = await this.stopSolvingFunc();\n      await this.setPlaybackSequence(this.bestSolution); // TODO: error checking\n      this.isSolving = false;\n      this.bestSolution = null;\n    }\n  },\n  computed: {\n    showPlaybackControls() {\n      return this.playbackMode == PlaybackMode.DEMONSTRATION\n    },\n    controlsType() {\n      if (this.isInputting) return 'input-marbles';\n      if (this.showPlaybackControls) return 'playback';\n\n      return 'puzzle';\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","export const Operations = {\n  ROTATE: 0,\n  INNER_SHIFT: 1,\n  OUTER_SHIFT: 2,\n  INVERSE_ROTATE: 3,\n  INVERSE_INNER_SHIFT: 4,\n  INVERSE_OUTER_SHIFT: 5,\n}\n\nexport const InverseOperations = {\n  [Operations.ROTATE]: Operations.INVERSE_ROTATE,\n  [Operations.INNER_SHIFT]: Operations.INVERSE_INNER_SHIFT,\n  [Operations.OUTER_SHIFT]: Operations.INVERSE_OUTER_SHIFT,\n  [Operations.INVERSE_ROTATE]: Operations.ROTATE,\n  [Operations.INVERSE_INNER_SHIFT]: Operations.INNER_SHIFT,\n  [Operations.INVERSE_OUTER_SHIFT]: Operations.OUTER_SHIFT\n}\n\nconst OperationMappings = {\n  Symmetric: {},\n  Asymmetric: {}\n}\n\nOperationMappings.Symmetric[Operations.ROTATE] = [\n  23, 22, 21, 20, 19, 18, 9, 10, 11, 12, 13, 14, 15, 16, 17,\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 24, 25, 26, 27, 28, 29\n];\n\nOperationMappings.Symmetric[Operations.INNER_SHIFT] = [\n  1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 0,\n  18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29\n];\n\nOperationMappings.Symmetric[Operations.OUTER_SHIFT] = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,\n  29, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28\n];\n\nOperationMappings.Symmetric[Operations.INVERSE_ROTATE] = [\n  18, 19, 20, 21, 22, 23, 9, 10, 11, 12, 13, 14, 15, 16, 17,\n  8, 7, 6, 5, 4, 3, 2, 1, 0, 24, 25, 26, 27, 28, 29,\n];\n\nOperationMappings.Symmetric[Operations.INVERSE_INNER_SHIFT] = [\n  17, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,\n  18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29\n];\n\nOperationMappings.Symmetric[Operations.INVERSE_OUTER_SHIFT] = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,\n  19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 18\n];\n\nOperationMappings.Asymmetric[Operations.ROTATE] = [\n  23, 22, 21, 20, 19, 18, 17, 16, 15, 6, 7, 8, 9, 10, 11, 12,\n  13, 14, 0, 1, 2, 3, 4, 5, 24, 25, 26, 27, 28, 29\n];\n\nOperationMappings.Asymmetric[Operations.INNER_SHIFT] = [\n  1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 0,\n  15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29\n];\n\nOperationMappings.Asymmetric[Operations.OUTER_SHIFT] = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14,\n  29, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28\n];\n\nOperationMappings.Asymmetric[Operations.INVERSE_ROTATE] = [\n  15, 16, 17, 18, 19, 20, 21, 22, 23, 6, 7, 8, 9, 10, 11, 12,\n  13, 14, 5, 4, 3, 2, 1, 0, 24, 25, 26, 27, 28, 29,\n];\n\nOperationMappings.Asymmetric[Operations.INVERSE_INNER_SHIFT] = [\n  14, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,\n  15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29\n];\n\nOperationMappings.Asymmetric[Operations.INVERSE_OUTER_SHIFT] = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14,\n  16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 15\n];\n\nexport { OperationMappings };","import * as THREE from 'three';\n\nimport { Operations, InverseOperations, OperationMappings } from './operations';\n\nexport { Operations, InverseOperations, OperationMappings };\n\nexport const MARBLE_COLORS = [\n  0xf44336,\n  0xffeb3b,\n  0x4caf50,\n  0x2196f3,\n  0x9c27b0,\n  0xff69b4\n]\n\nexport const SYMMETRIC_MARBLE_POSITIONS = [\n  new THREE.Vector3(0.5, 0, 1.36),\n  new THREE.Vector3(1.5, 0, 1.36),\n  new THREE.Vector3(2.5, 0, 1.36),\n  new THREE.Vector3(3.368, 0, 0.918),\n  new THREE.Vector3(3.725, 0, 0),\n  new THREE.Vector3(3.368, 0, -0.918),\n  new THREE.Vector3(2.5, 0, -1.36),\n  new THREE.Vector3(1.5, 0, -1.36),\n  new THREE.Vector3(0.5, 0, -1.36),\n\n  new THREE.Vector3(-0.5, 0, -1.36),\n  new THREE.Vector3(-1.5, 0, -1.36),\n  new THREE.Vector3(-2.5, 0, -1.36),\n  new THREE.Vector3(-3.368, 0, -0.918),\n  new THREE.Vector3(-3.725, 0, 0),\n  new THREE.Vector3(-3.368, 0, 0.918),\n  new THREE.Vector3(-2.5, 0, 1.36),\n  new THREE.Vector3(-1.5, 0, 1.36),\n  new THREE.Vector3(-0.5, 0, 1.36),\n  \n  new THREE.Vector3(0.5, 1.36, 0),\n  new THREE.Vector3(1.4611, 1.2296, 0),\n  new THREE.Vector3(2.145, 0.5, 0),\n  new THREE.Vector3(2.145, -0.5, 0),\n  new THREE.Vector3(1.4611, -1.2296, 0),\n  new THREE.Vector3(0.5, -1.36, 0),\n\n  new THREE.Vector3(-0.5, -1.36, 0),\n  new THREE.Vector3(-1.4611, -1.2296, 0),\n  new THREE.Vector3(-2.145, -0.5, 0),\n  new THREE.Vector3(-2.145, 0.5, 0),\n  new THREE.Vector3(-1.4611, 1.2296, 0),\n  new THREE.Vector3(-0.5, 1.36, 0),\n]\n\nexport const ASYMMETRIC_MARBLE_POSITIONS = [\n  new THREE.Vector3(0.5, 0, 1.36),\n  new THREE.Vector3(1.4611, 0, 1.2296),\n  new THREE.Vector3(2.145, 0, 0.5),\n  new THREE.Vector3(2.145, 0, -0.5),\n  new THREE.Vector3(1.4611, 0, -1.2296),\n  new THREE.Vector3(0.5, 0, -1.36),\n\n  new THREE.Vector3(-0.5, 0, -1.36),\n  new THREE.Vector3(-1.5, 0, -1.36),\n  new THREE.Vector3(-2.5, 0, -1.36),\n  new THREE.Vector3(-3.368, 0, -0.918),\n  new THREE.Vector3(-3.725, 0, 0),\n  new THREE.Vector3(-3.368, 0, 0.918),\n  new THREE.Vector3(-2.5, 0, 1.36),\n  new THREE.Vector3(-1.5, 0, 1.36),\n  new THREE.Vector3(-0.5, 0, 1.36),\n\n  new THREE.Vector3(0.5, 1.36, 0),\n  new THREE.Vector3(1.5, 1.36, 0),\n  new THREE.Vector3(2.5, 1.36, 0),\n  new THREE.Vector3(3.368, 0.918, 0),\n  new THREE.Vector3(3.725, 0, 0),\n  new THREE.Vector3(3.368, -0.918, 0),\n  new THREE.Vector3(2.5, -1.36, 0),\n  new THREE.Vector3(1.5, -1.36, 0),\n  new THREE.Vector3(0.5, -1.36, 0),\n\n  new THREE.Vector3(-0.5, -1.36, 0),\n  new THREE.Vector3(-1.4611, -1.2296, 0),\n  new THREE.Vector3(-2.145, -0.5, 0),\n  new THREE.Vector3(-2.145, 0.5, 0),\n  new THREE.Vector3(-1.4611, 1.2296, 0),\n  new THREE.Vector3(-0.5, 1.36, 0),\n]\n\nexport const PlaybackMode = {\n  FREE: 0, // user is in control\n  DEMONSTRATION: 1, // simulator is in control\n}","<template>\n  <span class='puzzleCode font-monospace' :class='{solved}'>\n    <a href='#' @click='copy()'><i class='bi-clipboard'></i></a>\n    <span>{{ code }}</span>\n  </span>\n\n  <div class='position-fixed start-50 translate-middle-x p-3' style='z-index: 5'>\n    <div class='toast align-items-center' role='status' aria-live='polite' aria-atomic='true' ref='toastElement'>\n      <div class='d-flex'>\n        <div class='toast-body'>\n          Copied puzzle code to clipboard.\n        </div>\n        <button type='button' class='btn-close me-2 m-auto' data-bs-dismiss='toast' aria-label='Close'></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { Toast } from 'bootstrap';\n\nexport default {\n  props: {\n    code: String,\n    solved: Boolean\n  },\n  data() {\n    return {\n      toast: null\n    }\n  },\n  setup() {\n    return {\n      toastElement: ref(null)\n    }\n  },\n  mounted() {\n    this.toast = new Toast(this.toastElement, {\n      delay: 2500,\n    });\n  },\n  methods: {\n    copy() {\n      navigator.clipboard.writeText(this.code);\n      this.toast.show();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.puzzleCode {\n  position: fixed;\n  right: 0;\n\n  padding: 4px 10px 2px 8px;\n\n  color: #636363;\n  background-color: #f8f8f8;\n\n  border-left: 1px solid #eee;\n  border-bottom: 1px solid #eee;\n  border-bottom-left-radius: 6px;\n\n  z-index: 2;\n}\n\n.puzzleCode.solved {\n  background-color: #c8e6c9;\n  border-color: #a5d6a7;\n}\n\n.puzzleCode a {\n  position:relative;\n  bottom: -2px;\n\n  padding-right: 6px;\n\n  font-size: 1.25rem;\n  color: #212121;\n}\n\n</style>","import { render } from \"./PuzzleCodeBox.vue?vue&type=template&id=e9248e02&scoped=true\"\nimport script from \"./PuzzleCodeBox.vue?vue&type=script&lang=js\"\nexport * from \"./PuzzleCodeBox.vue?vue&type=script&lang=js\"\n\nimport \"./PuzzleCodeBox.vue?vue&type=style&index=0&id=e9248e02&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-e9248e02\"\n\nexport default script","<template>\n  <div class='bottom-bar container-fluid'>\n    <div class='row align-items-center h-100'  v-if='showPlaybackControls'>\n      <div class='col d-flex justify-content-end'>\n        <input type='range' class='form-range w-25' @change='updateSpeed' :value='sliderValue'>\n      </div>\n\n      <div class='col col-auto fs-1'>\n        <a href='#' class='text-reset me-4' @click='$emit(\"skip-start\")'><i class='bi-skip-start-fill'></i></a>\n        <a href='#' class='text-reset' @click='$emit(\"prev\")'><i class='bi-skip-backward-fill'></i></a>\n        <a href='#' class='text-reset mx-4' v-if='playing' @click='$emit(\"pause\")'><i class='bi-pause-circle-fill'></i></a>\n        <a href='#' class='text-reset mx-4' v-else @click='$emit(\"play\")'><i class='bi-play-circle-fill'></i></a>\n        <a href='#' class='text-reset' @click='$emit(\"next\")'><i class='bi-skip-forward-fill'></i></a>\n        <a href='#' class='text-reset ms-4' @click='$emit(\"skip-end\")'><i class='bi-skip-end-fill'></i></a>\n      </div>\n\n      <div class='col d-flex justify-content-end align-items-center'>\n        <div class='flex-grow-1 text-center'>\n          <span class='fw-bold'>{{currentIndex}}</span><span class='text-secondary'> / {{operations.length}} moves</span>\n        </div>\n\n        <button type='button' class='icon-button btn btn-outline-dark' @click='$emit(\"cancel\")'>\n          <i class='bi-x fs-5' />\n          <span>Cancel</span>\n        </button>\n      </div>\n    </div>\n\n    <div class='row align-items-center h-100' v-if='solving'>\n      <div class='col text-center'>\n        <small class='fw-light text-muted'>Solutions become iteratively better with time</small>\n      </div>\n\n      <div class='col col-auto d-flex align-items-center justify-content-center'>\n        <button\n          class='btn position-relative'\n          :class='{\"btn-success\": solveReady, \"btn-outline-success\": !solveReady}'\n          :disabled='!solveReady || !bestSolution'\n          @click='$emit(\"choose-solution\")'\n        >\n          <div class='button-loading-overlay' id='solve-button-overlay'></div>\n          <span v-if='bestSolution'>Solve in {{ bestSolution.length }} steps</span>\n          <span v-else>Finding solutions...</span>\n        </button>\n      </div>\n\n      <div class='col'></div>\n    </div>\n\n    <div class='row align-items-center h-100' v-if='inputting'>\n      <div class='col'></div>\n\n      <div class='col col-auto d-flex flex-row'>\n        <div class='btn-group' role='group' aria-label='Symmetric toggle'>\n          <input type='radio' name='input-symmetric' class='btn-check' id='input-symmetric' autocomplete='off' @click='$emit(\"update-input-symmetric\", true)' :checked='inputSymmetric'>\n          <label class='btn btn-outline-dark' for='input-symmetric'>Symmetric</label>\n\n          <input type='radio' name='input-symmetric' class='btn-check' id='input-asymmetric' autocomplete='off' @click='$emit(\"update-input-symmetric\", false)' :checked='!inputSymmetric'>\n          <label class='btn btn-outline-dark' for='input-asymmetric'>Asymmetric</label>\n        </div>\n      </div>\n\n      <p class='vertical-separator'><span>or</span></p>\n\n      <div class='col col-auto'>\n        <div class='input-group'>\n          <input type='text' v-model='puzzleCode' class='form-control' placeholder='Puzzle Code' aria-label='Puzzle Code' aria-describedby='load-code-button'>\n          <button class='btn btn-outline-secondary' type='button' @click='loadPuzzleCode()' id='load-code-button'>Load</button>\n        </div>\n      </div>\n\n      <div class='col d-flex justify-content-end'>\n        <button type='button' class='icon-button btn btn-outline-dark' @click='$emit(\"cancel-marble-input\")'>\n          <i class='bi-x fs-5' />\n          <span>Cancel</span>\n        </button>\n      </div>\n    </div>\n\n    <div class='row align-items-center h-100' v-if='!inputting && !solving && !showPlaybackControls'>\n      <div class='col d-flex'>\n        <button type='button' class='icon-button btn btn-outline-dark' @click='$emit(\"reset\")'>\n          <i class='bi-arrow-clockwise fs-5' />\n          <span>Reset</span>\n        </button>\n\n        <button type='button' class='icon-button btn btn-outline-dark ms-2' @click='$emit(\"scramble\")'>\n          <i class='bi-shuffle fs-5' />\n          <span>Scramble</span>\n        </button>\n\n        <button type='button' class='icon-button btn btn-success ms-2' @click='$emit(\"find-solutions\")'>\n          <i class='bi-lightbulb fs-5' />\n          <span>Solve</span>\n        </button>\n      </div>\n\n      <div class='col d-flex justify-content-end'>\n        <button type='button' class='icon-button btn btn-outline-dark' @click='$emit(\"begin-marble-input\")'>\n          <i class='bi-upload fs-5' />\n          <span>Load Puzzle</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { nextTick } from 'vue';\nimport $ from 'jquery';\n\nconst MIN_SPEED = 1;\nconst MAX_SPEED = 0.1;\n\nconst SOLUTION_WAIT = 7500; // milliseconds user is required to wait for solutions to generate\n\nexport default {\n  name: 'ViewportControls',\n  props: {\n    showPlaybackControls: Boolean,\n    playing: Boolean,\n    operations: Array,\n    currentIndex: Number,\n    speed: Number,\n\n    solving: Boolean,\n    bestSolution: Array,\n\n    inputting: Boolean,\n    inputSymmetric: Boolean\n  },\n  data() {\n    return {\n      puzzleCode: '',\n      solveReady: false\n    }\n  },\n  methods: {\n    updateSpeed(event) {\n      const val = parseInt(event.target.value);\n      const speed = ((100 - val) / 100) * (MIN_SPEED - MAX_SPEED) + MAX_SPEED;\n\n      this.$emit('updateSpeed', speed);\n    },\n    loadPuzzleCode() {\n      this.$emit('load-puzzle-code', this.puzzleCode);\n    }\n  },\n  computed: {\n    sliderValue() {\n      const val = 100 - ((this.speed - MAX_SPEED) / (MIN_SPEED - MAX_SPEED) * 100);\n      return val;\n    }\n  },\n  watch: {\n    async solving(newSolving, oldSolving) {\n      if (newSolving == oldSolving) return;\n\n      if (newSolving) {\n        this.solveReady = false;\n        await nextTick();\n\n        $('#solve-button-overlay').animate({height: '100%'}, SOLUTION_WAIT, 'linear', () => {\n          this.solveReady = true;\n          $('#solve-button-overlay').height('0%');\n        });\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.bottom-bar {\n  height: 75px;\n\n  border-top: 1px solid #eee;\n}\n\n.icon-button {\n  display: flex;\n  align-items: center;\n}\n\n.icon-button span {\n  max-width: 0px;\n  overflow: hidden;\n  white-space: nowrap;\n  transition: max-width 0.4s ease, padding 0.4s ease;\n}\n\n.icon-button:hover span {\n  max-width: 200px;\n  padding-left: 8px;\n}\n\n.button-loading-overlay {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n\n  width: 100%;\n  height: 0%;\n\n  background-color: #19875440;\n}\n\n.vertical-separator {\n  display: flex;\n  align-items: center;\n\n  width: 0;\n  height: 80%;\n\n  margin: 0px 8px;\n  padding: 0px;\n\n  border-left: 1px solid #d0d0d0;\n  color: #9e9e9e;\n\n  font-weight: 300;\n}\n\n.vertical-separator span {\n  position: relative;\n  background-color: white;\n  right: 8px;\n}\n\n</style>\n","import { render } from \"./ViewportControls.vue?vue&type=template&id=dfdf713a&scoped=true\"\nimport script from \"./ViewportControls.vue?vue&type=script&lang=js\"\nexport * from \"./ViewportControls.vue?vue&type=script&lang=js\"\n\nimport \"./ViewportControls.vue?vue&type=style&index=0&id=dfdf713a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-dfdf713a\"\n\nexport default script","<template>\n  <div class='playback-bar d-flex flex-row' ref='playbackBar' v-if='operations.length > 0'>\n    <div class='operations d-flex flex-row' :style='{marginLeft: margin}' ref='operationsContainer'>\n      <operation-icon v-for='(op, i) in operations' :op='op' :key='i' :selected='i == currentIndex' />\n    </div>\n  </div>\n</template>\n\n<script>\nimport OperationIcon from './OperationIcon';\n\nconst X_PADDING = 16;\nconst OPERATION_ICON_WIDTH = 40; // TODO: these values are subject to change based on OperationIcon\nconst ICON_SPACING = 4;\n\nexport default {\n  name: 'PlaybackBar',\n  components: {\n    OperationIcon\n  },\n  props: {\n    operations: Array,\n    currentIndex: Number\n  },\n  methods: {\n    // if the bar is overflowing, we want the current index to be centered\n    calculateMargin() {\n      if (!this.$refs.playbackBar || !this.$refs.operationsContainer) return '0px;';\n\n      const barWidth = this.$refs.playbackBar.offsetWidth;\n      const operationsWidth = this.$refs.operationsContainer.offsetWidth;\n\n      if (operationsWidth <= barWidth) {\n        return '0px';\n      }\n\n      const currentIndexPos = X_PADDING + ((this.currentIndex + 0.5) * OPERATION_ICON_WIDTH) + (this.currentIndex * ICON_SPACING);\n\n      if (currentIndexPos <= barWidth / 2) {\n        return '0px';\n      } else if (currentIndexPos >= operationsWidth - barWidth/2) {\n        return `${barWidth - operationsWidth - X_PADDING * 2 + ICON_SPACING}px`;\n      }\n\n      return `${barWidth/2 - currentIndexPos}px`;\n    }\n  },\n  computed: {\n    margin() {\n      this.currentIndex;\n\n      return this.calculateMargin();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.playback-bar {\n  position: absolute;\n  width: 100%;\n  overflow: hidden;\n  bottom: 0;\n\n  padding: 8px 16px;\n\n  background-color:#f4f4f4;\n  border-top: 1px solid #eee;\n}\n\n</style>\n","<template>\n  <div\n    class='op-icon'\n    :class='opClass'\n  >{{ opText }}</div>\n</template>\n\n<script>\nimport { Operations } from '@/constants';\nimport { Tooltip } from 'bootstrap';\n\nconst OperationClass = {\n  [Operations.ROTATE]: 'rotate',\n  [Operations.INNER_SHIFT]: 'inner-shift',\n  [Operations.OUTER_SHIFT]: 'outer-shift',\n  [Operations.INVERSE_ROTATE]: 'inv-rotate',\n  [Operations.INVERSE_INNER_SHIFT]: 'inv-inner-shift',\n  [Operations.INVERSE_OUTER_SHIFT]: 'inv-outer-shift'\n}\n\nconst OperationText = {\n  [Operations.ROTATE]: 'R',\n  [Operations.INNER_SHIFT]: 'I',\n  [Operations.OUTER_SHIFT]: 'O',\n  [Operations.INVERSE_ROTATE]: ' R`',\n  [Operations.INVERSE_INNER_SHIFT]: ' I`',\n  [Operations.INVERSE_OUTER_SHIFT]: ' O`'\n}\n\nconst OperationTooltip = {\n  [Operations.ROTATE]: 'Rotate',\n  [Operations.INNER_SHIFT]: 'Inner Shift',\n  [Operations.OUTER_SHIFT]: 'Outer Shift',\n  [Operations.INVERSE_ROTATE]: 'Inverse Rotate',\n  [Operations.INVERSE_INNER_SHIFT]: 'Inverse Inner Shift',\n  [Operations.INVERSE_OUTER_SHIFT]: 'Inverse Outer Shift'\n}\n\nexport default {\n  name: 'OperationIcon',\n  props: {\n    op: Number,\n    selected: Boolean\n  },\n  mounted() {\n    new Tooltip(this.$el, {\n      title: OperationTooltip[this.op]\n    });\n  },\n  computed: {\n    opClass() {\n      return {\n        [OperationClass[this.op]]: true,\n        selected: this.selected\n      }\n    },\n    opText() {\n      return OperationText[this.op];\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n\n.op-icon {\n  display: flex;\n\n  width: 40px;\n  height: 40px;\n\n  min-width: 40px;\n  min-height: 40px;\n\n  margin-right: 4px;\n\n  justify-content: center;\n  align-items: center;\n\n  background-color: white;\n  border: 1px solid #eee;\n  border-radius: 4px;\n\n  font-weight: 900;\n  color: #424242;\n\n  transition: background-color 0.4 ease;\n  cursor: pointer;\n}\n\n.selected {\n  background-color: #2e7d32;\n  color: white;\n  border-color: #005005;\n}\n\n.op-icon:hover {\n  background-color: #fafafa;\n}\n\n.rotate, .inv-rotate {\n  border-radius: 20px;\n}\n\n.inv-rotate, .inv-inner-shift, .inv-outer-shift {\n  white-space: pre;\n}\n\n</style>","import { render } from \"./OperationIcon.vue?vue&type=template&id=9d0c702c&scoped=true\"\nimport script from \"./OperationIcon.vue?vue&type=script&lang=js\"\nexport * from \"./OperationIcon.vue?vue&type=script&lang=js\"\n\nimport \"./OperationIcon.vue?vue&type=style&index=0&id=9d0c702c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-9d0c702c\"\n\nexport default script","import { render } from \"./PlaybackBar.vue?vue&type=template&id=0e82b333&scoped=true\"\nimport script from \"./PlaybackBar.vue?vue&type=script&lang=js\"\nexport * from \"./PlaybackBar.vue?vue&type=script&lang=js\"\n\nimport \"./PlaybackBar.vue?vue&type=style&index=0&id=0e82b333&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0e82b333\"\n\nexport default script","<template>\n  <div class='controls-guide' :class='{playback: showPlaybackControls}'>\n    <h5 class='title'>{{ title }}</h5>\n\n    <div class='puzzle-controls' v-if='showPuzzleControls'>\n      <div class='key-desc'>\n        <key-icon char='Q' tooltip='Inverse Outer Shift' />\n        <small>Shift outer ring counter-clockwise</small>\n      </div>\n\n      <div class='key-desc'>\n        <key-icon char='E' tooltip='Outer Shift' />\n        <small>Shift outer ring clockwise</small>\n      </div>\n\n      <div class='key-desc'>\n        <key-icon char='A' tooltip='Inner Shift' />\n        <small>Shift inner ring clockwise</small>\n      </div>\n\n      <div class='key-desc'>\n        <key-icon char='D' tooltip='Inverse Inner Shift' />\n        <small>Shift inner ring counter-clockwise</small>\n      </div>\n\n      <div class='key-desc'>\n        <key-icon char='W' tooltip='Rotate' />\n        <small>Rotate right-half clockwise</small>\n      </div>\n\n      <div class='key-desc'>\n        <key-icon char='S' tooltip='Inverse Rotate' />\n        <small>Rotate right-half counter-clockwise</small>\n      </div>\n    </div>\n\n    <div class='input-marbles-controls d-flex flex-column' v-if='showInputMarbleControls'>\n      <small class='mb-3'>Input a marble into the highlighted position by pressing the key associated with the color of the marble.</small>\n\n      <div class='d-flex flex-row'>\n        <div class='d-flex flex-grow-1 justify-content-center' v-for='(color, i) in keyColors' :key='i'>\n          <key-icon :char='String(i + 1)' :color='color' />\n        </div>\n      </div>\n    </div>\n\n    <div class='playback-controls' v-if='showPlaybackControls'>\n      <div class='key-desc'>\n        <key-icon icon='bi-caret-left-fill' tooltip='Arrow Left' />\n        <small>Step back</small>\n      </div>\n\n      <div class='key-desc'>\n        <key-icon icon='bi-caret-right-fill' tooltip='Arrow Right' />\n        <small>Step forward</small>\n      </div>\n\n      <div class='key-desc'>\n        <key-icon char=' ' tooltip='Spacebar' />\n        <small>Toggle playback</small>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport chroma from 'chroma-js';\nimport KeyIcon from './KeyIcon';\n\nimport { MARBLE_COLORS } from '@/constants';\n\nexport default {\n  name: 'ControlsGuide',\n  components: {\n    KeyIcon\n  },\n  props: {\n    controlsType: String\n  },\n  computed: {\n    keyColors() {\n      return MARBLE_COLORS.map(col => chroma(col).css());\n    },\n    title() {\n      switch(this.controlsType) {\n        case 'puzzle': return 'Puzzle Controls';\n        case 'input-marbles': return 'Input Controls';\n        case 'playback': return 'Playback Controls';\n        default: return 'Controls';\n      }\n    },\n    showPuzzleControls() {\n      return this.controlsType == 'puzzle'\n    },\n    showInputMarbleControls() {\n      return this.controlsType == 'input-marbles'\n    },\n    showPlaybackControls() {\n      return this.controlsType == 'playback';\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.controls-guide {\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n\n  width: 300px;\n  padding: 12px;\n\n  background-color: #ffffffcc;\n\n  border-top: 1px solid #eee;\n  border-left: 1px solid #eee;\n  border-top-left-radius: 4px;\n}\n\n.controls-guide.playback {\n  bottom: 57px; /* this must change if the playback bar height changes */\n}\n\n.controls-guide .title {\n  padding-bottom: 10px;\n  border-bottom: 1px solid #eee;\n}\n\n.key-desc {\n  display: flex;\n  align-items: center;\n\n  margin-bottom: 6px;\n}\n\n.key-desc small {\n  padding-left: 12px;\n}\n\n</style>\n","<template>\n  <div\n    class='key-icon d-flex justify-content-center align-items-center fw-bold'\n    :style='colorStyle'\n  >\n    <i v-if='icon' :class='icon'></i>\n    <span :class='{spacebar: char == \" \"}' v-else>{{ displayChar }}</span>\n  </div>\n</template>\n\n<script>\nimport { Tooltip } from 'bootstrap';\nimport chroma from 'chroma-js';\n\nexport default {\n  name: 'KeyIcon',\n  props: {\n    char: String,\n    icon: String,\n    tooltip: String,\n    color: String\n  },\n  mounted() {\n    if (this.tooltip) {\n      new Tooltip(this.$el, {\n        title: this.tooltip\n      });\n    }\n  },\n  computed: {\n    colorStyle() {\n      if (!this.color) return {};\n\n      const style = {};\n\n      if (chroma(this.color).luminance() < 0.179) {\n        style.color = '#fff';\n      }\n\n      style.backgroundColor = this.color;\n      style.borderColor = chroma(this.color).darken().css();\n\n      return style;\n    },\n\n    displayChar() {\n      switch(this.char) {\n        case ' ':\n          return ']';\n        default:\n          return this.char;\n      }\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n\n.key-icon {\n  width: 36px;\n  height: 36px;\n\n  flex-shrink: 0;\n\n  background-color: #f0f0f0;\n  border-radius: 5px;\n  border-bottom: 3px solid #ddd;\n\n  cursor: pointer;\n  transition: filter 0.2s ease;\n}\n\n.key-icon:hover {\n  background-color: #ddd;\n  border-color: #ccc;\n  filter: brightness(90%);\n}\n\n.spacebar {\n  position: relative;\n  top: 2px;\n  left: 1px;\n\n  writing-mode: vertical-lr;\n  text-orientation: mixed;\n}\n\n</style>\n","import { render } from \"./KeyIcon.vue?vue&type=template&id=51f9887a&scoped=true\"\nimport script from \"./KeyIcon.vue?vue&type=script&lang=js\"\nexport * from \"./KeyIcon.vue?vue&type=script&lang=js\"\n\nimport \"./KeyIcon.vue?vue&type=style&index=0&id=51f9887a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-51f9887a\"\n\nexport default script","import { render } from \"./ControlsGuide.vue?vue&type=template&id=da62bb4a&scoped=true\"\nimport script from \"./ControlsGuide.vue?vue&type=script&lang=js\"\nexport * from \"./ControlsGuide.vue?vue&type=script&lang=js\"\n\nimport \"./ControlsGuide.vue?vue&type=style&index=0&id=da62bb4a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-da62bb4a\"\n\nexport default script","import { onMounted, ref, shallowRef } from 'vue';\nimport * as THREE from 'three';\n\nconst FOV = 75;\n\nconst useRenderer = () => {\n  const viewport = ref(null);\n\n  const scene = shallowRef(null);\n  const camera = shallowRef(null);\n  const renderer = shallowRef(null);\n\n  const animations = [];\n\n  const initRenderer = () => {\n    const width = viewport.value.offsetWidth;\n    const height = viewport.value.offsetHeight;\n\n    scene.value = new THREE.Scene();\n    camera.value = new THREE.PerspectiveCamera(FOV, width / height, 0.1, 1000);\n\n    renderer.value = new THREE.WebGLRenderer({antialias: true});\n    renderer.value.setSize(width, height);\n    renderer.value.setClearColor(0xffffff, 1);\n    viewport.value.appendChild(renderer.value.domElement);\n\n    new ResizeObserver(onResize).observe(viewport.value);\n  }\n\n  const onAnimate = func => {\n    if (typeof func === 'function') {\n      animations.push(func)\n    }\n  }\n\n  const animate = () => {\n    requestAnimationFrame(animate);\n\n    animations.forEach(func => func());\n\n    renderer.value.render(scene.value, camera.value);\n  }\n\n  const onResize = () => {\n    const width = viewport.value.offsetWidth;\n    const height = viewport.value.offsetHeight;\n\n    camera.value.aspect = width / height;\n    camera.value.updateProjectionMatrix();\n\n    renderer.value.setSize(width, height);\n  }\n  \n  onMounted(initRenderer);\n\n  return {\n    viewport,\n    scene,\n    camera,\n    renderer,\n\n    initRenderer,\n    onResize,\n    onAnimate,\n    animate\n  }\n}\n\nexport default useRenderer;","import { onMounted, shallowRef } from 'vue';\n\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nconst MAX_ZOOM_DISTANCE = 20;\nconst MIN_ZOOM_DISTANCE = 5;\n\nconst useCameraControls = (camera, viewport, onAnimate) => {\n  const controls = shallowRef(null);\n\n  const initCameraControls = () => {\n    camera.value.position.x = 9.63787 * 0.75;\n    camera.value.position.z = 7.74324 * 0.75;\n    camera.value.position.y = 7.03379 * 0.75;\n\n    camera.value.lookAt(new THREE.Vector3(0, 0, 0));\n    controls.value = new OrbitControls(camera.value, viewport.value);\n    controls.value.maxDistance = MAX_ZOOM_DISTANCE;\n    controls.value.minDistance = MIN_ZOOM_DISTANCE;\n  }\n\n  onAnimate(() => {\n    controls.value.update();\n  });\n\n  onMounted(initCameraControls);\n\n  return {\n    controls,\n\n    initCameraControls\n  }\n}\n\nexport default useCameraControls;","import { onMounted } from 'vue';\nimport * as THREE from 'three';\n\nconst useLighting = scene => {\n  const ambientLight = new THREE.AmbientLight(0xffffff, 0.2);\n\n  const keyLight = new THREE.DirectionalLight(0xffffff, 1);\n  const fillLight = new THREE.DirectionalLight(0xffffff, 0.4);\n  const rimLight = new THREE.DirectionalLight(0xffffff, 0.4);\n\n  keyLight.position.set(10, 10, 10);\n  fillLight.position.set(-10, -10, 10);\n  rimLight.position.set(0, -2, -10);\n\n  const initLighting = () => {\n    scene.value.add(ambientLight);\n\n    [keyLight, fillLight, rimLight].forEach(light => {\n      light.target.position.set(0, 0, 0);\n      scene.value.add(light);\n    });\n  }\n\n  onMounted(initLighting);\n  \n  return {\n    initLighting\n  }\n}\n\nexport default useLighting;","import { onMounted, ref, shallowRef } from 'vue';\n\nimport * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nconst CHAIN_LEFT_COLOR = 0xe0e0e0;\nconst CHAIN_RIGHT_COLOR = 0x0d47a1;\n\nconst useChain = (scene, puzzle) => {\n  const loader = new GLTFLoader();\n  const materialLeft = new THREE.MeshLambertMaterial({color: CHAIN_LEFT_COLOR});\n  const materialRight = new THREE.MeshLambertMaterial({color: CHAIN_RIGHT_COLOR});\n\n  const chainLeft = shallowRef(null);\n  const chainRight = shallowRef(null);\n\n  const chainSymmetric = ref(puzzle.value.symmetric);\n\n  let chainTransparent = false;\n\n  const loadListeners = [];\n  const onChainLoad = func => loadListeners.push(func);\n\n  const initChain = async () => {\n    const loadedData = await loader.loadAsync('./chain.glb');\n    const chainGeometry = loadedData.scene.children[0].geometry;\n\n    chainLeft.value = new THREE.Mesh(chainGeometry, materialLeft);\n    chainRight.value = new THREE.Mesh(chainGeometry, materialRight);\n\n    chainRight.value.rotation.y = Math.PI;\n\n    updateChainOrientation();\n    setChainTransparent(false);\n\n    scene.value.add(chainLeft.value);\n    scene.value.add(chainRight.value);\n\n    loadListeners.forEach(func => func());\n  }\n\n  const updateChainOrientation = symmetric => {\n    if (symmetric == null) symmetric = chainSymmetric.value; \n\n    if (symmetric) {\n      chainRight.value.rotation.x = 0;\n    } else {\n      chainRight.value.rotation.x = Math.PI / 2;\n    }\n  }\n\n  const setChainTransparent = transparent => {\n    chainTransparent = transparent;\n\n    if (transparent) {\n      [materialLeft, materialRight].forEach(mat => {\n        mat.transparent = true;\n        mat.color = new THREE.Color(0xffffff);\n        mat.opacity = 0.4;\n      });\n    } else {\n      [materialLeft, materialRight].forEach(mat => {\n        mat.transparent = false;\n        mat.opacity = 1;\n      });\n\n      materialLeft.color = new THREE.Color(CHAIN_LEFT_COLOR);\n      materialRight.color = new THREE.Color(CHAIN_RIGHT_COLOR);\n    }\n  }\n\n  const toggleChainTransparent = () => {\n    setChainTransparent(!chainTransparent);\n  }\n\n  puzzle.value.onReset(() => {\n    chainSymmetric.value = puzzle.value.symmetric;\n    updateChainOrientation();\n    setChainTransparent(false);\n  })\n\n  onMounted(initChain);\n\n  return {\n    chainLeft,\n    chainRight,\n    chainSymmetric,\n\n    initChain,\n    onChainLoad,\n    updateChainOrientation,\n    setChainTransparent,\n    toggleChainTransparent\n  }\n}\n\nexport default useChain;","import { onMounted, shallowRef } from 'vue';\nimport * as THREE from 'three';\n\nimport {\n  MARBLE_COLORS,\n  SYMMETRIC_MARBLE_POSITIONS,\n  ASYMMETRIC_MARBLE_POSITIONS\n} from '@/constants';\n\nconst MARKER_MARBLE_COLOR = 0xffffff;\nconst MARKER_MARBLE_OPACITY = 0.6;\n\nconst useMarbles = (scene, puzzle) => {\n  const geometry = new THREE.SphereGeometry(0.5, 32, 32);\n  const materials = [];\n\n  for (let color of MARBLE_COLORS) {\n    materials.push(new THREE.MeshStandardMaterial({color, roughness: 0.05}))\n  }\n\n  const marbles = shallowRef([]);\n  const markerMarble = shallowRef(null);\n\n  const markerMaterial = new THREE.MeshStandardMaterial({color: MARKER_MARBLE_COLOR, roughness: 0.05});\n  markerMaterial.transparent = true;\n  markerMaterial.opacity = MARKER_MARBLE_OPACITY;\n\n  markerMarble.value = new THREE.Mesh(geometry, markerMaterial);\n\n  const setMarbleOrientation = (symmetric, order) => {\n    const positions = symmetric ? SYMMETRIC_MARBLE_POSITIONS : ASYMMETRIC_MARBLE_POSITIONS;\n\n    order.forEach((color, i) => {\n      const pos = positions[i];\n      const marble = new THREE.Mesh(geometry, materials[color]);\n\n      marble.position.x = pos.x;\n      marble.position.y = pos.y;\n      marble.position.z = pos.z;\n\n      if (marbles.value[i]) scene.value.remove(marbles.value[i]);\n\n      scene.value.add(marble);\n      marbles.value[i] = marble;\n    });\n  }\n\n  const clearMarbles = () => {\n    marbles.value.forEach(marble => {\n      scene.value.remove(marble);\n    });\n  }\n\n  const setMarkerVisibility = isVisible => {\n    if (isVisible) {\n      scene.value.add(markerMarble.value);\n    } else {\n      scene.value.remove(markerMarble.value);\n    }\n  }\n\n  const initMarbles = () => {\n    setMarbleOrientation(puzzle.value.symmetric, puzzle.value.marbles);\n  }\n\n  onMounted(initMarbles);\n  puzzle.value.onReset(initMarbles);\n\n  return {\n    marbles,\n    markerMarble,\n\n    initMarbles,\n    setMarbleOrientation,\n    clearMarbles,\n    setMarkerVisibility\n  }\n}\n\nexport default useMarbles;","import * as THREE from 'three';\n\nimport { Operations, OperationMappings, ASYMMETRIC_MARBLE_POSITIONS } from '@/constants';\nimport { SYMMETRIC_MARBLE_POSITIONS } from '../constants';\n\n// indices of marbles that physically move during rotation\n// (excludes marbles that change indices but remain stationary)\nconst SYMMETRIC_ROTATE_MOVERS = [0, 1, 2, 3, 4, 5, 6, 7, 8, 18, 19, 20, 21, 22, 23];\nconst ASYMMETRIC_ROTATE_MOVERS = [0, 1, 2, 3, 4, 5, 15, 16, 17, 18, 19, 20, 21, 22, 23];\n\nexport const lerp = (start, end) => pos => {\n  return start.clone().add(end.clone().sub(start).multiplyScalar(pos));\n}\n\nexport const lerpEuler = (start, end) => pos => {\n  return new THREE.Euler(\n    start.x + (end.x - start.x) * pos,\n    start.y + (end.y - start.y) * pos,\n    start.z + (end.z - start.z) * pos\n  );\n}\n\nexport const circleInterpolate = cw => start => {\n  const radius = Math.max(Math.abs(start.y), Math.abs(start.z));\n  let phi = 0;\n\n  if (start.y == 0) {\n    if (start.z > 0) {\n      phi = 0;\n    } else {\n      phi = Math.PI;\n    }\n  } else {\n    if (start.y > 0) {\n      phi = Math.PI / 2;\n    } else {\n      phi = Math.PI * 3 / 2;\n    }\n  }\n\n  return pos => {\n    let theta = (pos * Math.PI / 2);\n    if (!cw) theta = -theta;\n\n    theta += phi;\n\n    return new THREE.Vector3(\n      start.x,\n      Math.sin(theta) * radius,\n      Math.cos(theta) * radius\n    );\n  }\n}\n\nexport const OperationInterpolations = {\n  Symmetric: {\n    [Operations.ROTATE]: createRotateInterpolations(Operations.ROTATE, true),\n    [Operations.INNER_SHIFT]: createShiftInterpolations(Operations.INNER_SHIFT, true),\n    [Operations.OUTER_SHIFT]: createShiftInterpolations(Operations.OUTER_SHIFT, true),\n    [Operations.INVERSE_ROTATE]: createRotateInterpolations(Operations.INVERSE_ROTATE, true),\n    [Operations.INVERSE_INNER_SHIFT]: createShiftInterpolations(Operations.INVERSE_INNER_SHIFT, true),\n    [Operations.INVERSE_OUTER_SHIFT]: createShiftInterpolations(Operations.INVERSE_OUTER_SHIFT, true),\n  },\n  Asymmetric: {\n    [Operations.ROTATE]: createRotateInterpolations(Operations.ROTATE, false),\n    [Operations.INNER_SHIFT]: createShiftInterpolations(Operations.INNER_SHIFT, false),\n    [Operations.OUTER_SHIFT]: createShiftInterpolations(Operations.OUTER_SHIFT, false),\n    [Operations.INVERSE_ROTATE]: createRotateInterpolations(Operations.INVERSE_ROTATE, false),\n    [Operations.INVERSE_INNER_SHIFT]: createShiftInterpolations(Operations.INVERSE_INNER_SHIFT, false),\n    [Operations.INVERSE_OUTER_SHIFT]: createShiftInterpolations(Operations.INVERSE_OUTER_SHIFT, false),\n  }\n};\n\nexport const ChainInterpolations = {\n  Symmetric: {\n    [Operations.ROTATE]: lerpEuler(new THREE.Euler(0, Math.PI, 0), new THREE.Euler(-Math.PI / 2, Math.PI, 0)),\n    [Operations.INVERSE_ROTATE]: lerpEuler(new THREE.Euler(0, Math.PI, 0), new THREE.Euler(Math.PI / 2, Math.PI, 0))\n  },\n  Asymmetric: {\n    [Operations.ROTATE]: lerpEuler(new THREE.Euler(Math.PI / 2, Math.PI, 0), new THREE.Euler(0, Math.PI, 0)),\n    [Operations.INVERSE_ROTATE]: lerpEuler(new THREE.Euler(-Math.PI / 2, Math.PI, 0), new THREE.Euler(0, Math.PI, 0))\n  }\n}\n\nfunction createShiftInterpolations(op, symmetric) {\n  const interpolations = [];\n  const mappings = symmetric ? OperationMappings.Symmetric : OperationMappings.Asymmetric;\n  \n  const fromPositions = symmetric ? SYMMETRIC_MARBLE_POSITIONS : ASYMMETRIC_MARBLE_POSITIONS;\n  let toPositions;\n\n  if (op == Operations.ROTATE || op == Operations.INVERSE_ROTATE) {\n    toPositions = symmetric ? ASYMMETRIC_MARBLE_POSITIONS : SYMMETRIC_MARBLE_POSITIONS;\n  } else {\n    toPositions = fromPositions;\n  }\n\n  mappings[op].forEach((mapping, i) => {\n    if (i == mapping) {\n      interpolations[i] = null;\n    }\n\n    const start = fromPositions[mapping];\n    const end = toPositions[i];\n\n    interpolations[mapping] = lerp(start, end);\n  });\n\n  return interpolations;\n}\n\nfunction createRotateInterpolations(op, symmetric) {\n  const mapping = (symmetric ? OperationMappings.Symmetric : OperationMappings.Asymmetric)[op];\n  const movers = symmetric ? SYMMETRIC_ROTATE_MOVERS : ASYMMETRIC_ROTATE_MOVERS;\n  const currier = circleInterpolate(op == Operations.ROTATE);\n  const interpolations = [];\n\n  const fromPositions = symmetric ? SYMMETRIC_MARBLE_POSITIONS : ASYMMETRIC_MARBLE_POSITIONS;\n  const toPositions = symmetric ? ASYMMETRIC_MARBLE_POSITIONS : SYMMETRIC_MARBLE_POSITIONS;\n\n  movers.forEach(idx => {\n    const start = fromPositions[idx];\n    const end = toPositions[mapping.find(n => n == idx)];\n\n    interpolations[idx] = currier(start, end);\n  });\n\n  return interpolations;\n}","import {\n  SYMMETRIC_MARBLE_POSITIONS,\n  ASYMMETRIC_MARBLE_POSITIONS, \n  Operations,\n  OperationMappings\n} from '@/constants';\n\nimport { OperationInterpolations, ChainInterpolations } from '@/helpers/interpolation';\n\nimport * as THREE from 'three';\n\nconst ANIMATION_DURATION = 0.25;\n\nconst useAnimation = (puzzle, chain, marbles, renderer) => {\n  const { chainRight, chainSymmetric, updateChainOrientation } = chain;\n\n  const curMappings = () => {\n    return chainSymmetric.value ? OperationMappings.Symmetric : OperationMappings.Asymmetric;\n  }\n\n  const transform = op => {\n    switch(op) {\n      case Operations.ROTATE:\n        return rotate();\n      case Operations.INNER_SHIFT:\n        return innerShift();\n      case Operations.OUTER_SHIFT:\n        return outerShift();\n      case Operations.INVERSE_ROTATE:\n        return inverseRotate();\n      case Operations.INVERSE_INNER_SHIFT:\n        return inverseInnerShift();\n      case Operations.INVERSE_OUTER_SHIFT:\n        return inverseOuterShift();\n    }\n  }\n\n  const mapMarbles = mapping => {\n    const temp = marbles.value.slice(0);\n\n    for (let i = 0; i < 30; i++) {\n      marbles.value[i] = temp[mapping[i]]\n    }\n  }\n\n  const updateMarblePositions = () => {\n    const positions = chainSymmetric.value ? SYMMETRIC_MARBLE_POSITIONS : ASYMMETRIC_MARBLE_POSITIONS;\n\n    marbles.value.forEach((marble, i) => {\n      const pos = positions[i];\n\n      marble.position.x = pos.x;\n      marble.position.y = pos.y;\n      marble.position.z = pos.z;\n    });\n  }\n\n  const innerShift = () => {\n    mapMarbles(curMappings()[Operations.INNER_SHIFT]);\n    updateMarblePositions();\n  }\n\n  const inverseInnerShift = () => {\n    mapMarbles(curMappings()[Operations.INVERSE_INNER_SHIFT]);\n    updateMarblePositions();\n  }\n\n  const outerShift = () => {\n    mapMarbles(curMappings()[Operations.OUTER_SHIFT]);\n    updateMarblePositions();\n  }\n\n  const inverseOuterShift = () => {\n    mapMarbles(curMappings()[Operations.INVERSE_OUTER_SHIFT]);\n    updateMarblePositions();\n  }\n\n  const rotate = () => {\n    mapMarbles(curMappings()[Operations.ROTATE]);\n\n    chainSymmetric.value = !chainSymmetric.value;\n    updateChainOrientation();\n    updateMarblePositions();\n  }\n\n  const inverseRotate = () => {\n    mapMarbles(curMappings()[Operations.INVERSE_ROTATE]);\n\n    chainSymmetric.value = !chainSymmetric.value;\n    updateChainOrientation();\n    updateMarblePositions();\n  }\n  \n  let animationPromise = null;\n  let animateFunc = () => {};\n\n  const cancelAnimation = async () => {\n    if (animationPromise) {\n      await animationPromise.cancel();\n      updateMarblePositions();\n      updateChainOrientation();\n    }\n  }\n\n  const animateOperation = async (op, duration = ANIMATION_DURATION) => {\n    const clock = new THREE.Clock();\n    clock.start();\n\n    let shouldCancel = false;\n\n    const interpolations = (\n      chainSymmetric.value ? OperationInterpolations.Symmetric : OperationInterpolations.Asymmetric\n    )[op];\n\n    let chainInterpolation = null;\n\n    if (op == Operations.ROTATE || op == Operations.INVERSE_ROTATE) {\n      chainInterpolation = (chainSymmetric.value ? ChainInterpolations.Symmetric : ChainInterpolations.Asymmetric)[op];\n    }\n\n    const animateMarbles = marbles.value.slice(0);\n\n    animationPromise = new Promise(res => {\n      animateFunc = () => {\n        if (shouldCancel) {\n          animationPromise = null;\n          animateFunc = () => {};\n\n          return res();\n        }\n\n        const elapsedTime = clock.getElapsedTime();\n        const pos = Math.min(elapsedTime / duration, 1);\n\n        interpolations.forEach((interpolation, i) => {\n          if (!interpolation) return;\n\n          animateMarbles[i].position.copy(interpolation(pos));\n        });\n\n        if (chainInterpolation) {\n          chainRight.value.rotation.copy(chainInterpolation(pos));\n        }\n\n        if (elapsedTime >= duration) {\n          animationPromise = null;\n          animateFunc = () => {};\n\n          res();\n        }\n      }\n    });\n\n    animationPromise.cancel = async function() {\n      shouldCancel = true;\n      await this;\n    }\n\n    return animationPromise;\n  }\n\n  // a somewhat hacky alternative to constantly registering and unregistering new render handlers\n  renderer.onAnimate(() => animateFunc());\n  \n  return {\n    cancelAnimation,\n    animateOperation,\n    transform\n  }\n}\n\nexport default useAnimation;","import { onMounted } from 'vue';\n\nimport { Operations } from '@/constants';\n\nconst KeyOperations = {\n  'a': Operations.INNER_SHIFT,\n  'd': Operations.INVERSE_INNER_SHIFT,\n  'q': Operations.INVERSE_OUTER_SHIFT,\n  'e': Operations.OUTER_SHIFT,\n  'w': Operations.ROTATE,\n  's': Operations.INVERSE_ROTATE\n}\n\nconst KeyMarbleInputs = {\n  'Digit1': 0,\n  'Digit2': 1,\n  'Digit3': 2,\n  'Digit4': 3,\n  'Digit5': 4,\n  'Digit6': 5\n}\n\nconst useKeyboard = (playback, marbleInputter, chain) => {\n  onMounted(() => {\n    window.addEventListener('keypress', event => {\n      const {code} = event;\n\n      if (code == 'KeyT') {\n        return chain.toggleChainTransparent();\n      }\n\n      if (marbleInputter.isInputting.value) {\n        if (code in KeyMarbleInputs) return marbleInputter.inputMarble(KeyMarbleInputs[code]);\n      } else {\n        const key = event.key.toLowerCase();\n        if (key in KeyOperations) return playback.pushOperation(KeyOperations[key]);\n      }\n    });\n\n    window.addEventListener('keydown', event => {\n      if (event.code == 'ArrowRight') {\n        playback.next();\n      } else if (event.code == 'ArrowLeft') {\n        playback.prev();\n      } else if (event.code == 'Space') {\n        playback.togglePlay();\n      }\n    });\n  });\n}\n\nexport default useKeyboard;","import { ref } from 'vue';\n\nimport { InverseOperations, PlaybackMode } from '@/constants';\n\nconst DEFAULT_SPEED = 0.25;\n\nconst usePlayback = (puzzle, animation) => {\n  const playbackQueue = ref([]);\n  const playbackQueueIndex = ref(0);\n  const playbackMode = ref(PlaybackMode.FREE);\n  const playing = ref(false);\n  const speed = ref(DEFAULT_SPEED);\n\n  // enters an out-of-sequence input, such as a user input\n  const pushOperation = async op => {\n    if (playbackMode.value == PlaybackMode.DEMONSTRATION) {\n      if (playing.value) {\n        return await pause(); // pause playback but ignore move\n      } else {\n        await stop(); // stop playback and perform move\n      }\n    }\n    \n    puzzle.value.transform(op);\n    \n    await animation.cancelAnimation();\n    animation.animateOperation(op, speed.value);\n    animation.transform(op);\n  }\n\n  const setSequence = async sequence => {\n    // TODO: validation\n\n    await pause();\n\n    playbackQueue.value = sequence.slice(0);\n    playbackQueueIndex.value = 0;\n    playbackMode.value = PlaybackMode.DEMONSTRATION;\n  }\n\n  const play = () => {\n    if (playbackMode.value == PlaybackMode.FREE || playing.value) return;\n\n    playing.value = true;\n\n    const recursivePlay = async () => {\n      if (!playing.value) return;\n      if (playbackQueueIndex.value >= playbackQueue.value.length) return pause();\n\n      await internalNext();\n      recursivePlay();\n    };\n\n    recursivePlay();\n  }\n\n  const pause = async () => {\n    playing.value = false;\n    await animation.cancelAnimation();\n  }\n\n  const togglePlay = async () => {\n    if (playing.value) {\n      await pause()\n    } else {\n      await play()\n    }\n  }\n\n  const stop = async () => {\n    playbackMode.value = PlaybackMode.FREE;\n    playbackQueue.value = [];\n    playing.value = false;\n\n    await animation.cancelAnimation();\n  }\n\n  // only safe to call from within this composable\n  const internalNext  = async () => {\n    if (playbackMode.value == PlaybackMode.FREE || playbackQueueIndex.value >= playbackQueue.value.length) return;\n\n    const op = playbackQueue.value[playbackQueueIndex.value++];\n    puzzle.value.transform(op);\n\n    await animation.cancelAnimation();\n      \n    const promise = animation.animateOperation(op, speed.value);\n    animation.transform(op);\n\n    await promise;\n  }\n\n  // safe to call from outside\n  const next = async () => {\n    if (playing.value) return;\n    await internalNext();\n  }\n\n  const prev = async () => {\n    if (playbackMode.value == PlaybackMode.FREE || playbackQueueIndex.value <= 0) return;\n    if (playing.value) return await pause();\n    \n    const op = InverseOperations[playbackQueue.value[--playbackQueueIndex.value]];\n    puzzle.value.transform(op);\n\n    await animation.cancelAnimation();\n\n    const promise = animation.animateOperation(op, speed.value);\n    animation.transform(op);\n\n    await promise;\n  }\n\n  const setSpeed = newSpeed => {\n    speed.value = newSpeed;\n  }\n\n  return {\n    playbackQueue,\n    playbackQueueIndex,\n    playbackMode,\n    playing,\n    speed,\n\n    pushOperation,\n    setPlaybackSequence: setSequence,\n\n    play,\n    pause,\n    togglePlay,\n    stop,\n    next,\n    prev,\n\n    setSpeed\n  }\n}\n\nexport default usePlayback;","\nimport { Operations, OperationMappings } from '@/constants';\n\nconst DEFAULT_MARBLES = [\n  0, 0, 0, 0, 0,\n  1, 1, 1, 1, 1,\n  2, 2, 2, 2, 2,\n  3, 3, 3, 3, 3,\n  4, 4, 4, 4, 4,\n  5, 5, 5, 5, 5\n];\n\nconst ENCODE_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghij';\nconst DEFAULT_SCRAMBLE = 60; // default number of iterations to scramble\n\nfunction ChainPuzzle(symmetric = false, marbles = DEFAULT_MARBLES.slice(0)) {\n  this.symmetric = symmetric;\n  this.marbles = marbles;\n  \n  this.listeners = {\n    transform: [],\n    reset: [],\n    solve: []\n  }\n}\n\nChainPuzzle.prototype.encode = function() {\n  let str = this.symmetric ? 'S' : 'A'; // S = symmetric, A = asymmetric\n\n  for (let i = 0; i < 30; i += 2) {\n    let val = this.marbles[i] * 6 + this.marbles[i + 1];\n    str += ENCODE_STR[val];\n  }\n\n  return str;\n}\n\nChainPuzzle.decode = str => {\n  // TODO: validation\n\n  const symmetric = str[0] == 'S';\n  const marbles = [];\n\n  str.slice(1).split('').forEach((char, i) => {\n    const val = ENCODE_STR.indexOf(char);\n    marbles[i*2] = Math.floor(val / 6);\n    marbles[i*2 + 1] = val % 6;\n  });\n\n  return new ChainPuzzle(symmetric, marbles);\n}\n\nChainPuzzle.prototype.map = function(mapping) {\n  const temp = this.marbles.slice(0);\n\n  for (let i = 0; i < 30; i++) {\n    this.marbles[i] = temp[mapping[i]]\n  }\n\n  return this;\n}\n\nChainPuzzle.prototype.equals = function(puzzle) {\n  // TODO: check if input is of type ChainPuzzle\n  return this.symmetric == puzzle.symmetric && arraysEqual(this.marbles, puzzle.marbles);\n}\n\nChainPuzzle.prototype.copy = function() {\n  return new ChainPuzzle(this.symmetric, [...this.marbles]);\n}\n\nChainPuzzle.prototype.isSolved = function() {\n  return !this.symmetric &&\n      isSubchainSolved(this.marbles.slice(0, 15)) &&\n      isSubchainSolved(this.marbles.slice(15));\n}\n\nChainPuzzle.prototype.normalize = function() {\n  const mapping = {};\n  let index = 0;\n\n  for (let i = 0; i < 30; i++) {\n    const cur = this.marbles[i];\n\n    if (mapping[cur] == null) {\n      mapping[cur] = index++;\n    }\n\n    this.marbles[i] = mapping[cur];\n  }\n\n  return this;\n}\n\nChainPuzzle.prototype.scramble = function(iterations) {\n  if (!iterations) iterations = DEFAULT_SCRAMBLE;\n\n  let lastOperation = Operations.INNER_SHIFT;\n\n  for (let i = 0; i < iterations; i++) {\n    let operation;\n    \n    do {\n      operation = Math.floor(Math.random() * 6);\n    } while(operation != lastOperation && (operation%3 == lastOperation%3));\n\n    this.transform(operation);\n    lastOperation = operation;\n  }\n\n  return this;\n}\n\nChainPuzzle.prototype.operationMappings = function() {\n  return this.symmetric ? OperationMappings.Symmetric : OperationMappings.Asymmetric;\n}\n\nChainPuzzle.prototype.transform = function(operation, checkSolved = true) {\n  // TODO: check if operation is valid\n\n  this.map(this.operationMappings()[operation]);\n\n  if (operation == Operations.ROTATE || operation == Operations.INVERSE_ROTATE) {\n    this.symmetric = !this.symmetric;\n  }\n\n  this.fireEvent('transform', [operation]);\n\n  if (checkSolved && this.isSolved()) {\n    this.fireEvent('solve', []);\n  }\n\n  return this;\n}\n\nChainPuzzle.prototype.rotate = function() {\n  return this.transform(Operations.ROTATE);\n}\n\nChainPuzzle.prototype.innerShift = function() {\n  return this.transform(Operations.INNER_SHIFT);\n}\n\nChainPuzzle.prototype.outerShift = function() {\n  return this.transform(Operations.OUTER_SHIFT);\n}\n\nChainPuzzle.prototype.inverseRotate = function() {\n  return this.transform(Operations.INVERSE_ROTATE);\n}\n\nChainPuzzle.prototype.inverseInnerShift = function() {\n  return this.transform(Operations.INVERSE_INNER_SHIFT);\n}\n\nChainPuzzle.prototype.inverseOuterShift = function() {\n  return this.transform(Operations.INVERSE_OUTER_SHIFT);\n}\n\nChainPuzzle.prototype.reset = function(symmetric = false, marbles = DEFAULT_MARBLES.slice(0)) {\n  this.symmetric = symmetric;\n  this.marbles = marbles;\n\n  this.fireEvent('reset', []);\n\n  return this;\n}\n\nChainPuzzle.prototype.loadPuzzleCode = function(code) {\n  // TODO: validation\n\n  const newPuzzle = ChainPuzzle.decode(code);\n  return this.reset(newPuzzle.symmetric, newPuzzle.marbles);\n}\n\nChainPuzzle.prototype.fireEvent = async function(event, params) {\n  // TODO: check if event is valid\n\n  this.listeners[event].forEach(async func => func(...params));\n}\n\nChainPuzzle.prototype.onTransform = function(func) {\n  this.listeners.transform.push(func);\n}\n\nChainPuzzle.prototype.onReset = function(func) {\n  this.listeners.reset.push(func);\n}\n\nChainPuzzle.prototype.onSolve = function(func) {\n  this.listeners.solve.push(func);\n}\n\n// checks if 15-marble array is solved\nfunction isSubchainSolved(chain) {\n  let end = 14;\n\n  while (chain[end] == chain[0]) {\n    end--;\n  }\n\n  let consecutive = 15 - end;\n  for (let i = 1; i <= end; i++) {\n    if (chain[i] != chain[i - 1]) {\n      if (consecutive != 5) {\n        return false;\n      }\n\n      consecutive = 1;\n    } else {\n      consecutive++;\n    }\n  }\n\n  return true;\n}\n\n// TODO: move to helper function file\nfunction arraysEqual(a, b) {\n  if (a === b) return true;\n  if (a == null || b == null) return false;\n  if (a.length !== b.length) return false;\n\n  for (let i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n\n  return true;\n}\n\nexport default ChainPuzzle;","import { ref } from 'vue';\n\nimport ChainPuzzle from '@/modules/ChainPuzzle';\n\nimport {\n  SYMMETRIC_MARBLE_POSITIONS,\n  ASYMMETRIC_MARBLE_POSITIONS\n} from '@/constants';\n\nconst useMarbleInputter = (marbles, chain, puzzle, loadPuzzleCode) => {\n  const isInputting = ref(false);\n  const inputSymmetric = ref(false);\n\n  let inputMarbles = [];\n  let oldPuzzleCode = puzzle.value.encode();\n\n  const setMarkerIndex = idx => {\n    const positions = inputSymmetric.value ? SYMMETRIC_MARBLE_POSITIONS : ASYMMETRIC_MARBLE_POSITIONS;\n    marbles.markerMarble.value.position.copy(positions[idx]);\n  }\n\n  const updateInputSymmetric = symmetric => {\n    inputSymmetric.value = symmetric;\n\n    if (isInputting.value) {\n      setMarkerIndex(inputMarbles.length);\n\n      chain.updateChainOrientation(symmetric);\n      marbles.setMarbleOrientation(symmetric, inputMarbles);\n    }\n  }\n\n  const beginMarbleInput = () => {\n    oldPuzzleCode = puzzle.value.encode(); // store initial state in case the user cancels\n    inputSymmetric.value = puzzle.value.symmetric;\n\n    inputMarbles = [];\n    isInputting.value = true;\n\n    chain.updateChainOrientation(inputSymmetric.value);\n    marbles.clearMarbles();\n\n    setMarkerIndex(0);\n    marbles.setMarkerVisibility(true);\n  }\n\n  const cancelMarbleInput = () => {\n    isInputting.value = false;\n    marbles.setMarkerVisibility(false);\n\n    loadPuzzleCode(oldPuzzleCode);\n  }\n\n  const inputMarble = marble => {\n    if (!isInputting.value) return;\n\n    inputMarbles[inputMarbles.length] = marble;\n    marbles.setMarbleOrientation(inputSymmetric.value, inputMarbles);\n\n    if (inputMarbles.length == 30) {\n      isInputting.value = false;\n      marbles.setMarkerVisibility(false);\n\n      const newPuzzle = new ChainPuzzle(inputSymmetric.value, inputMarbles);\n      loadPuzzleCode(newPuzzle.encode());\n    } else {\n      setMarkerIndex(inputMarbles.length);\n    }\n  }\n\n  return {\n    isInputting,\n    inputSymmetric,\n\n    updateInputSymmetric,\n    beginMarbleInput,\n    cancelMarbleInput,\n    inputMarble\n  }\n}\n\nexport default useMarbleInputter;","import { Operations } from '@/constants';\n\nconst DEFAULT_SCRAMBLE = 60;\n\nconst SORT_ORDER = {\n  [Operations.INNER_SHIFT]: 0,\n  [Operations.INVERSE_INNER_SHIFT]: 1,\n  [Operations.OUTER_SHIFT]: 2,\n  [Operations.INVERSE_OUTER_SHIFT]: 3\n}\n\nconst OperationSequence = {\n  scramble(iterations = DEFAULT_SCRAMBLE) {\n    const operations = [];\n    let lastOperation = Operations.INNER_SHIFT;\n\n    for (let i = 0; i < iterations; i++) {\n      let operation;\n      \n      do {\n        operation = Math.floor(Math.random() * 6);\n      } while(operation != lastOperation && (operation%3 == lastOperation%3));\n\n      operations.push(operation);\n      lastOperation = operation;\n    }\n\n    return operations;\n  },\n\n  // reorders sequence so inner shifts always come before outer shifts\n  reorder(sequence) {\n    let newSequence = [];\n    let start = 0;\n\n    const sortFunc = (a, b) => SORT_ORDER[a] - SORT_ORDER[b];\n    \n    for (let i = 0; i < sequence.length; i++) {\n      if (sequence[i] == Operations.ROTATE || sequence[i] == Operations.INVERSE_ROTATE) {\n        newSequence = newSequence.concat(sequence.slice(start, i).sort(sortFunc));\n        newSequence.push(sequence[i]);\n\n        start = i + 1;\n      }\n    }\n\n    newSequence = newSequence.concat(sequence.slice(start).sort(sortFunc));\n\n    return newSequence;\n  }\n}\n\nexport default OperationSequence;","\nconst countContiguousGroups = marbles => {\n  let end = marbles.length - 1;\n\n  while (marbles[end] == marbles[0]) {\n    end--;\n  }\n\n  let groups = 1;\n  for (let i = 1; i <= end; i++) {\n    if (marbles[i] != marbles[i - 1]) {\n      groups++\n    }\n  }\n\n  return groups;\n}\n\nconst Heuristic = {\n  ContiguousGroups(puzzle) {\n    if (puzzle.symmetric) {\n      return countContiguousGroups(puzzle.marbles.slice(0, 18)) + countContiguousGroups(puzzle.marbles.slice(18));\n    } else {\n      return countContiguousGroups(puzzle.marbles.slice(0, 15)) + countContiguousGroups(puzzle.marbles.slice(15));\n    }\n  }\n}\n\nexport default Heuristic;","import Heap from 'heap';\n\nimport ChainPuzzle from './ChainPuzzle';\nimport Heuristic from './Heuristic';\nimport OperationSequence from './OperationSequence';\n\nfunction Node(position, parent, operation, priority, depth) {\n  this.position = position;\n  this.parent = parent;\n  this.operation = operation;\n  this.priority = priority;\n  this.depth = depth;\n\n  this.children = [];\n}\n\nconst getPathOperations = node => {\n  const operations = [];\n\n  while (node.parent) {\n    operations.unshift(node.operation);\n    node = node.parent;\n  }\n\n  return operations;\n}\n\nconst pruneQueueDepth = (queue, maxDepth) => {\n  const newQueue = new Heap((a, b) => a.priority - b.priority);\n\n  queue.toArray().forEach(node => {\n    if (node.depth <= maxDepth) {\n      newQueue.push(node);\n    }\n  });\n\n  return newQueue;\n}\n\nconst GeneratorDefaultOptions = {\n  initialDepth: 100\n}\n\nconst PuzzleSolver = {\n  // returns OperationSequence\n  solve(puzzle, maxDepth) {\n    const root = new Node(puzzle.copy().normalize().encode(), null, -1, Heuristic.ContiguousGroups(puzzle), 0);\n    \n    const queue = new Heap((a, b) => a.priority - b.priority);\n    queue.push(root);\n\n    const seen = {};\n\n    while (queue.size() > 0) {\n      const cur = queue.pop();\n\n      if (seen[cur.position]) {\n        continue;\n      }\n\n      const puzzle = ChainPuzzle.decode(cur.position);\n\n      if (puzzle.isSolved()) {\n        return getPathOperations(cur);\n      }\n\n      if (cur.depth >= maxDepth) {\n        continue;\n      }\n\n      for (let op = 0; op < 6; op++) {\n        if (op != cur.operation && (op%3 == cur.operation%3)) {\n          continue\n        }\n\n        const newPuzzle = puzzle.copy().transform(op).normalize();\n        const newPosition = newPuzzle.encode();\n\n        if (seen[newPosition]) {\n          continue;\n        }\n\n        const newNode = new Node(newPosition, cur, op, Heuristic.ContiguousGroups(newPuzzle), cur.depth + 1);\n\n        cur.children.push(newNode);\n        queue.push(newNode);\n      }\n\n      seen[cur.position] = true;\n    }\n\n    return null;\n  },\n\n  // returns a stop function\n  generateSolutions(puzzle, onSolution, options) {\n    const opts = Object.assign({}, GeneratorDefaultOptions, options);\n    let maxDepth = opts.initialDepth;\n\n    let shouldStop = false;\n    let bestSolution = null;\n\n    const root = new Node(puzzle.copy().normalize().encode(), null, -1, Heuristic.ContiguousGroups(puzzle), 0);\n    \n    let queue = new Heap((a, b) => a.priority - b.priority);\n    queue.push(root);\n\n    const seen = {};\n\n    const solveLoop = new Promise(res => {\n      const processQueue = async () => {\n        if (queue.empty() || shouldStop) return res();\n  \n        const cur = queue.pop();\n  \n        if (seen[cur.position]) {\n          return setImmediate(processQueue);\n        }\n  \n        const puzzle = ChainPuzzle.decode(cur.position);\n  \n        if (puzzle.isSolved()) {\n          const solution = OperationSequence.reorder(getPathOperations(cur));\n\n          onSolution(solution);\n          bestSolution = solution;\n  \n          queue = pruneQueueDepth(queue, cur.depth - 1); // TODO: might not be necessary if the cost of this function is greater than checking if all current-depth nodes are solved\n          maxDepth = cur.depth - 1;\n  \n          return setImmediate(processQueue);\n        }\n  \n        if (cur.depth >= maxDepth) {\n          return setImmediate(processQueue);\n        }\n  \n        for (let op = 0; op < 6; op++) {\n          if (op != cur.operation && (op%3 == cur.operation%3)) {\n            continue;\n          }\n  \n          const newPuzzle = puzzle.copy().transform(op).normalize();\n          const newPosition = newPuzzle.encode();\n  \n          if (seen[newPosition]) {\n            continue;\n          }\n  \n          const newNode = new Node(newPosition, cur, op, Heuristic.ContiguousGroups(newPuzzle), cur.depth + 1);\n  \n          cur.children.push(newNode);\n          queue.push(newNode);\n        }\n  \n        seen[cur.position] = true;\n  \n        setImmediate(processQueue);\n      }\n\n      processQueue();\n    });\n\n    return async () => {\n      shouldStop = true;\n      await solveLoop;\n\n      return bestSolution;\n    };\n  }\n}\n\nexport default PuzzleSolver;","import { render } from \"./Viewport.vue?vue&type=template&id=6c49c261&scoped=true\"\nimport script from \"./Viewport.vue?vue&type=script&lang=js\"\nexport * from \"./Viewport.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-6c49c261\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=152fece3\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=152fece3&lang=css\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\n\nimport 'bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\n\ncreateApp(App).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PuzzleCodeBox.vue?vue&type=style&index=0&id=e9248e02&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FaqQuestion.vue?vue&type=style&index=0&id=204b23d2&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=152fece3&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ControlsGuide.vue?vue&type=style&index=0&id=da62bb4a&scoped=true&lang=css\""],"sourceRoot":""}